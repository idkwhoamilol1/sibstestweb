<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é™½å…‰ç¾¤å³¶å·´å£«è·¯ç¶«æŸ¥è©¢ç³»çµ± | Sunshine Islands Bus Route Inquiry System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- åŠ è½½ç”»é¢ -->
    <div id="loadingScreen" class="screen loading-screen">
        <div class="loading-container">
            <h1 class="loading-title" data-lang-key="appTitle">é™½å…‰ç¾¤å³¶å·´å£«è·¯ç¶«æŸ¥è©¢ç³»çµ±</h1>
            <div class="loading-img-wrap">
                <img src="loading.png" alt="åŠ è½½ä¸­" class="loading-img">
            </div>
        </div>
        <div class="page-id-label"></div>
    </div>

    <!-- åŠŸèƒ½é€‰æ‹©ç”»é¢ -->
    <div id="funcScreen" class="screen func-screen hidden">
        <button id="backToLoadingBtn" class="back-btn app-back-btn hidden" data-lang-key="backBtn">è¿”å›</button>
        <div class="app-header">
            <h1 class="app-title" id="funcTitle" data-lang-key="funcTitle">åŠŸèƒ½é€‰æ‹©</h1>
            <div class="app-version">v0.2.2</div>
            <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’®ï¼ˆä¼˜åŒ–UIï¼‰ -->
            <div class="lang-switch-wrap">
                <button id="switchZhBtn" class="lang-btn active" data-lang-key="zhBtn">ä¸­æ–‡</button>
                <button id="switchEnBtn" class="lang-btn" data-lang-key="enBtn">English</button>
            </div>
        </div>
        <div class="app-content func-content">
            <div class="func-card-container">
                <div id="routeSelectFunc" class="func-card app-card">
                    <div class="func-card-icon">ğŸšŒ</div>
                    <div class="func-card-content">
                        <h3 class="func-card-title" id="routeSelectTitle" data-lang-key="routeSelect">çº¿è·¯ç«™ç‚¹æŸ¥è¯¢</h3>
                        <p class="func-card-desc" id="routeSelectDesc" data-lang-key="routeSelectDesc">æŸ¥è¯¢å…¬äº¤çº¿è·¯çš„ç«™ç‚¹ä¿¡æ¯ã€è¿è¥æ—¶é—´</p>
                    </div>
                    <div class="func-card-arrow">â†’</div>
                </div>
                <div id="updateLogFunc" class="func-card app-card">
                    <div class="func-card-icon">ğŸ“</div>
                    <div class="func-card-content">
                        <h3 class="func-card-title" id="updateLogTitle" data-lang-key="updateLog">æ›´æ–°æ—¥å¿—</h3>
                        <p class="func-card-desc" id="updateLogDesc" data-lang-key="updateLogDesc">æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–°å†…å®¹å’Œä¼˜åŒ–è®°å½•</p>
                    </div>
                    <div class="func-card-arrow">â†’</div>
                </div>
            </div>
        </div>
        <div class="page-id-label"></div>
    </div>

    <!-- çº¿è·¯è¾“å…¥ç”»é¢ -->
    <div id="inputScreen" class="screen input-screen hidden">
        <button id="backToFuncBtn" class="back-btn app-back-btn" data-lang-key="backBtn">è¿”å›</button>
        <div class="app-header">
            <h1 class="app-title" data-lang-key="inputTitle">çº¿è·¯ç¼–å·è¾“å…¥</h1>
        </div>
        <div class="app-content input-content">
            <div class="input-keyboard-suggest-wrap">
                <div class="input-keyboard-wrap">
                    <div class="input-container">
                        <div class="input-title-wrap">
                            <h2 class="input-title" data-lang-key="inputTitle">è¯·è¾“å…¥çº¿è·¯ç¼–å·</h2>
                            <div class="input-box">
                                <div class="input-field-wrap">
                                    <label for="routeNumberInput" data-lang-key="routeNumberLabel">çº¿è·¯ç¼–å·</label>
                                    <input type="text" id="routeNumberInput" class="custom-input" readonly 
                                        placeholder="ç‚¹å‡»è¾“å…¥çº¿è·¯ç¼–å·" data-lang-key="inputPlaceholder">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- è‡ªå®šä¹‰é”®ç›˜ -->
                    <div id="customKeyboard" class="custom-keyboard">
                        <div class="keyboard-grid">
                            <div class="key-group">
                                <button class="main-num-key" data-key="1">1</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="A">A</button>
                                    <button class="sub-letter-btn" data-key="B">B</button>
                                    <button class="sub-letter-btn" data-key="C">C</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="2">2</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="D">D</button>
                                    <button class="sub-letter-btn" data-key="E">E</button>
                                    <button class="sub-letter-btn" data-key="F">F</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="3">3</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="G">G</button>
                                    <button class="sub-letter-btn" data-key="H">H</button>
                                    <button class="sub-letter-btn" data-key="I">I</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="4">4</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="J">J</button>
                                    <button class="sub-letter-btn" data-key="K">K</button>
                                    <button class="sub-letter-btn" data-key="L">L</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="5">5</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="M">M</button>
                                    <button class="sub-letter-btn" data-key="N">N</button>
                                    <button class="sub-letter-btn" data-key="O">O</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="6">6</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="P">P</button>
                                    <button class="sub-letter-btn" data-key="Q">Q</button>
                                    <button class="sub-letter-btn" data-key="R">R</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="7">7</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="S">S</button>
                                    <button class="sub-letter-btn" data-key="T">T</button>
                                    <button class="sub-letter-btn" data-key="U">U</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="8">8</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="V">V</button>
                                    <button class="sub-letter-btn" data-key="W">W</button>
                                    <button class="sub-letter-btn" data-key="X">X</button>
                                </div>
                            </div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="9">9</button>
                                <div class="key-sub-wrap">
                                    <button class="sub-letter-btn" data-key="Y">Y</button>
                                    <button class="sub-letter-btn" data-key="Z">Z</button>
                                </div>
                            </div>
                            <div class="key-group-empty"></div>
                            <div class="key-group">
                                <button class="main-num-key" data-key="0">0</button>
                                <div class="empty-sub-wrap"></div>
                            </div>
                            <div class="key-group-empty"></div>
                        </div>
                        <div class="keyboard-func-group">
                            <button id="keyboardDeleteBtn" class="func-key delete-key" data-lang-key="deleteBtn">åˆ é™¤</button>
                            <button id="keyboardClearBtn" class="func-key clear-key" data-lang-key="clearBtn">æ¸…ç©º</button>
                        </div>
                    </div>
                </div>
                <div id="routeSuggestPanel" class="route-suggest-panel">
                    <div class="suggest-title" data-lang-key="suggestTitle">åŒ¹é…çš„çº¿è·¯</div>
                    <div id="suggestList" class="suggest-list"></div>
                </div>
            </div>
        </div>
        <div class="page-id-label"></div>
    </div>

    <!-- ç«™ç‚¹æ˜¾ç¤ºç”»é¢ -->
    <div id="stopScreen" class="screen stop-screen hidden">
        <button id="backToInputBtn" class="back-btn app-back-btn" data-lang-key="backBtn">è¿”å›</button>
        <div class="app-header">
            <h1 class="app-title" id="stopPageTitle" data-lang-key="stopPageTitleWithRoute">test</h1>
        </div>
        <div class="app-content stop-content">
            <div id="stopContainer" class="stop-container">
                <!-- å†…å®¹ç”±JSåŠ¨æ€æ¸²æŸ“ -->
            </div>
        </div>
        <div class="page-id-label"></div>
    </div>

<!-- åœ¨ updateLogScreen éƒ¨åˆ†æ·»åŠ ç¿»è¯‘æ ‡è®° -->
<div id="updateLogScreen" class="screen update-log-screen hidden">
    <button id="backToFuncFromLogBtn" class="back-btn app-back-btn" data-lang-key="backBtn">è¿”å›</button>
    <div class="app-header">
        <h1 class="app-title" data-lang-key="updateLog">ç‰ˆæœ¬æ›´æ–°æ—¥å¿—</h1>
        <div class="app-version">v0.2.2</div>
    </div>
    <div class="app-content log-content">
        <div id="updateLogPanel" class="update-log-panel app-card">
            <div class="log-meta">
                <span class="log-version" id="logVersion" data-lang-key="logVersion">ç‰ˆæœ¬</span>
                <span class="log-time" id="logTime" data-lang-key="logTime">æ›´æ–°æ—¶é—´</span>
            </div>
            <div class="log-list" id="logList">
                <!-- æ—¥å¿—å†…å®¹ç”±JSåŠ¨æ€æ¸²æŸ“ -->
            </div>
        </div>
    </div>
    <div class="page-id-label"></div>
</div>
    <script src="lang.js"></script>
    <script src="routedata.js"></script>
    <script src="updatelog.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è¾“å…¥æ¡†ç‚¹å‡»å”¤é†’é”®ç›˜
            const input = document.getElementById('routeNumberInput');
            if (input) {
                input.addEventListener('click', function() {
                    const keyboard = document.getElementById("customKeyboard");
                    if (keyboard) {
                        keyboard.classList.remove("hidden");
                        if (typeof Renderer !== 'undefined') {
                            Renderer.initKeyboardValidity(input.value);
                        }
                    }
                });
                
                // ç¦ç”¨åŸç”Ÿé”®ç›˜å’Œç²˜è´´
                input.addEventListener('keydown', function(e) {
                    e.preventDefault();
                });
                input.addEventListener('paste', function(e) {
                    e.preventDefault();
                });
                
                // ç›‘å¬è¾“å…¥æ¡†å€¼å˜åŒ–
                input.addEventListener('change', function() {
                    Renderer.initKeyboardValidity(input.value);
                    Renderer.renderRouteSuggestions(input.value);
                });
            }
        });
    </script>
</body>
</html>

